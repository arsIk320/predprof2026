# Школьная столовая (Predprof Canteen 2026)

Небольшое web‑приложение для школьной столовой на **Flask + SQLite**.

Роли в системе:
- **Ученик** — смотрит меню, оплачивает питание (разово или абонемент), отмечает получение, управляет аллергенами/предпочтениями, оставляет отзывы, получает уведомления.
- **Повар** — выдаёт питание ученикам (фиксируется в системе), видит статистику, управляет доступностью блюд, контролирует склад (продукты), создаёт заявки на закупку, смотрит **историю выдачи**.
- **Администратор** — видит статистику, обрабатывает заявки на закупку, формирует отчёты (PDF/CSV/JSON), настраивает цены абонементов, отправляет уведомления.

## Быстрый старт (Docker)

Требования: установлен Docker / Docker Desktop.

```bash
cd predprof_canteen_2026
docker-compose up --build
```

Открыть в браузере: **http://localhost:8000**

Данные сохраняются на хосте:
- `./data/canteen.db` — база SQLite
- `./data/reports/` — сохранённые отчёты (если включено)

Остановка:
```bash
docker-compose down
```

## Запуск без Docker (локально)

Требования: Python **3.10+** (рекомендуется 3.11).

```bash
cd predprof_canteen_2026
python -m venv .venv
source .venv/bin/activate   # Windows: .venv\Scripts\activate
pip install -r requirements.txt

# (необязательно) где хранить БД и отчёты
export FLASK_SECRET_KEY="predprof2026"
export CANTEEN_DB="./canteen.db"
export CANTEEN_REPORTS_DIR="./data/reports"

python app.py
```

По умолчанию приложение стартует на **http://localhost:8080** (см. `app.py`).

## Тестовые аккаунты

При первом запуске автоматически создаются демо‑пользователи:

- Ученик: `student1` / `password123`
- Повар: `cook1` / `password123`
- Админ: `admin1` / `password123`

## Полезные примечания

- Инициализация БД выполняется автоматически при старте (создание таблиц + сиды меню/продуктов/пользователей).
- Если нужно «с чистого листа» — удалите файл БД (`./data/canteen.db` в Docker‑режиме или `./canteen.db` при локальном запуске).
